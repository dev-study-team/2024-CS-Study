# HTTP (Hyper Text Transfer Protocol)

---

> 인터넷에서 클라이언트와 서버가 자원을 주고 받을 때 쓰는 규약
> 

특징

- HTTP는 평문(PlainText) 통신이기 때문에 도청이 가능 (암호화X)
- 통신 상대를 확인하지 않기 때문에 위장이 가능
- 완전성(정보의 정확성)을 증명할 수 없기 때문에 변조가 가능

### 도청 위험

![image](https://github.com/dev-study-team/2024-CS-Study/assets/10378777/02f11769-1d5a-4414-8d7c-0adbc0cc96b7)



TCP/IP 통신은 전부 통신 경로 상에서 내용을 엿볼 수 있다. 단순히 패킷을 수집하는 것만으로도 도청이 가능한데, 따라서 평문으로 통신하게 되면 쉽게 메세지의 의미를 파악할 수 있어 암호화 통신이 필요하다.

해결책

- SSL/TLS을 이용해 통신 자체를 암호화한다. 이를 HTTPS 라고 부른다.
- 메시지 Body만 별도로 암호화하는 콘텐츠 암호화 방법이 있다. 수신측에서는 약속에 맞게 해당 암호문을 해독해야한다.

### 위장 가능

![image](https://github.com/dev-study-team/2024-CS-Study/assets/10378777/7516d3c8-71ce-486f-94c4-d4122b4defd3)


HTTP는 상대가 누구인지 확인하는 처리가 없기 때문에 누구든지 Request를 보낼 수 있음

IP 및 Port 등에서 엑세스 제한이 없는 경우 반드시 Response를 반환

문제점

- Client와 Server가 서로가 서로를 신뢰할 수 없음 (믿음으로간다, 모르는 사람이랑 당근하는 느낌)
- 통신하고 있는 상대가 접근이 허가된 상대인지 확인할 수 없음
- 어디에서 누가 Request를 보냈는지 확인할 수 없음
- 의미 없는 Request도 전부 수신 (Dos 공격을 받음)

해결책

- SSL에서 제공하는 증명서를 통해 상대를 확인할 수 있음
    - 증명서는 신뢰할 수 있는 제3기관에 의해 발행

### 변조 가능

서버 또는 클라이언트에서 수신한 내용이 송신측에서 의도한 내용과 일치한다는 것을 보장할 수 없다. Request/Response가 전송되던 중 누군가에 의해 값이 변조되더라도 이를 확인할 수 없음

문제점

- 공격자가 Request/Response를 빼앗아 변조하는 공격이 가능 (Man-in-the-Middle 이라 부름)

해결책

- 가능하지만 확실하지는 않은 방법
    - MD5, SHA-1 등, 해시 값을 확인하는 방법
    - 파일 디지털 서명을 확인하는 방법
- 확실한 방법
    - HTTPS 사용 (SSL에서 인증, 암호화, 다이제스트 기능을 제공함)

# HTTPS (Hyper Text Transfer Protocol Secure)

---

> 인터넷에서 클라이언트와 서버가 자원을 주고 받는 HTTP에 암호화, 인증, 완정성 보호를 더한 프로토콜
> 

특징

- HTTPS는 암호문(CipherText) 통신을 한다. (공개키/비대칭키)
- HTTP 통신에서 Socket(TCP와 직접통신)을 SSL/TLS로 대체한 프로토콜이다.
- SSL을 사용한 HTTPS는 암호화, 증명서, 완전성 보호를 할 수 있음

SSL

- SSL은 공통키 암호와 공개키 암호 방식을 혼합한 하이브리드 암호 시스템을 사용
- 공통키를 공개키 암호화 방식으로 교환한 다음에 다음부터의 통신은 공통키 암호를 사용하는 방식

***CA란?*** : Certificate Authority로, 공개키를 저장해주는 신뢰성이 검증된 민간기업

# HTTP vs HTTPS

---

![image](https://github.com/dev-study-team/2024-CS-Study/assets/10378777/0d58a00c-efe8-4f83-87cd-0c901f55a5ae)


| 특징 | HTTP | HTTPS |
| --- | --- | --- |
| 암호화 | 평문(PlainText) 통신 | 암호문(CipherText) 통신 |
| 위장 | 위장 가능 | 상대를 확인하는 증명서로 위장 어려움 |
| 변조 | 변조 가능 | SSL에서 인증, 암호화, 다이제스트 기능 제공 |
| 보안 | 보안 취약 | 보안 강화 |
| 통신 방식 | TCP/IP 기반 | SSL/TLS 기반 |

# 기타

---

### 그럼 모든 곳에서 HTTPS를 사용해야할까?

- 단점
    - 암호화 통신이 평문 통신에 비해 컴퓨팅자원을 더 많이 요구
    - 통신할 때마다 암호화를 하면 추가적인 리소스를 소비하기 때문에 처리 능력이 저하됨
- 그러나
    - 하지만 하드웨어 발달로 인해 HTTPS를 사용하더라도 속도 저하가 거의 일어나지 않음
    - HTTP 2.0을 사용하면 HTTPS가 HTTP보다 더 빠를 수 있음
    - 따라서 최근에는 HTTPS를 모든 웹페이지에 적용하는 방향으로 바뀜
- 기타
    - 구글은 HTTPS를 사용하는 사이트에 SEO 최적화 가산점을 부여하겠다고 함 (장려)
    - https://tech.ssut.me/https-is-faster-than-http/
